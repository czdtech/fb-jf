---
import Layout from '../layouts/Layout.astro';
import GameGrid from '../components/GameGrid.astro';
import AudioPlayer from '../components/AudioPlayer.astro';
import Navigation from '../components/Navigation.astro';
import { Button } from '@/components/ui/button';

// Mock data
const mockGames = [];
const mockNavigation = [
  { label: "Home", url: "/" },
  { label: "Games", url: "/games" },
  { label: "New Games", url: "/new-games" },
  { label: "Popular", url: "/popular-games" }
];
const mockLanguages = [];
---

<Layout title="Loading States Demo">
  <main class="min-h-screen bg-background">
    <div class="space-y-12">
      <!-- Navigation with loading -->
      <Navigation 
        navigation={mockNavigation} 
        languages={mockLanguages}
        currentLang="en"
      />
      
      <div class="container mx-auto p-6 space-y-12">
        <h1 class="text-3xl font-bold text-center text-foreground mb-8">
          Loading States Demo
        </h1>
        
        <div class="flex justify-center space-x-4 mb-8">
          <Button onclick="toggleLoading()" class="bg-primary text-primary-foreground">
            Toggle Loading States
          </Button>
        </div>
        
        <!-- Game Grids with loading states -->
        <section class="space-y-8">
          <h2 class="text-2xl font-semibold text-foreground">Game Grids Loading States</h2>
          
          <!-- Standard Grid -->
          <div id="standardGrid">
            <GameGrid 
              games={mockGames}
              title="Standard Grid"
              variant="standard"
              loading={true}
              loadingCount={8}
            />
          </div>
          
          <!-- Featured Grid -->
          <div id="featuredGrid">
            <GameGrid 
              games={mockGames}
              title="Featured Grid"
              variant="featured"
              loading={true}
              loadingCount={6}
            />
          </div>
          
          <!-- Compact Grid -->
          <div id="compactGrid">
            <GameGrid 
              games={mockGames}
              title="Compact Grid"
              variant="compact"
              loading={true}
              loadingCount={12}
            />
          </div>
        </section>
        
        <!-- Audio Players with loading states -->
        <section class="space-y-4">
          <h2 class="text-2xl font-semibold text-foreground">Audio Player Loading States</h2>
          <div class="grid gap-4 max-w-md">
            <div id="audioPlayer1">
              <AudioPlayer 
                audioSrc="/characters/sounds/beat1.wav"
                title="Beat 1"
                loading={true}
              />
            </div>
            <div id="audioPlayer2">
              <AudioPlayer 
                audioSrc="/characters/sounds/melody1.wav"
                title="Melody 1"
                loading={true}
              />
            </div>
          </div>
        </section>
        
        <!-- Demo text -->
        <section class="text-center py-8">
          <p class="text-muted-foreground max-w-2xl mx-auto">
            è¿™ä¸ªé¡µé¢å±•ç¤ºäº†æ‰€æœ‰ç»„ä»¶çš„åŠ è½½çŠ¶æ€ã€‚ç‚¹å‡»ä¸Šé¢çš„æŒ‰é’®å¯ä»¥åœ¨åŠ è½½çŠ¶æ€å’Œå®é™…å†…å®¹ä¹‹é—´åˆ‡æ¢ã€‚
            æ‰€æœ‰skeletonç»„ä»¶éƒ½ä½¿ç”¨äº†shadcn/uiçš„Skeletonç»„ä»¶ï¼Œå¹¶ä¿æŒäº†ç´«è‰²ä¸»é¢˜çš„ä¸€è‡´æ€§ã€‚
          </p>
        </section>
      </div>
    </div>
  </main>
</Layout>

<script>
  let isLoading = true;
  
  window.toggleLoading = function() {
    isLoading = !isLoading;
    
    // This is a demo - in real application, you would update component props
    // For now, we just show a message
    if (isLoading) {
      alert('Loading state activated! ğŸ”„\n\nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™äº›ç»„ä»¶ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°skeleton loadingçŠ¶æ€ã€‚');
    } else {
      alert('Content loaded! âœ…\n\nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œç»„ä»¶ä¼šæ˜¾ç¤ºçœŸå®æ•°æ®å¹¶éšè—skeletonã€‚');
    }
  };
</script>
</Layout>