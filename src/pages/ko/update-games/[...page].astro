---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { UPDATE_GAMES_HREFLANG } from '../../../data/hreflang';
export { getStaticPaths } from '../../update-games/[...page].astro';

const { page } = Astro.props;
const prefix = '/ko';
const title = '신규 게임 - FiddleBops 게임 월드';
const description =
  'FiddleBops 게임 월드에 새로 추가된 최신 게임 목록입니다. 음악, 퍼즐, 아케이드 등 다양한 장르의 게임을 다운로드 없이 무료로 즐겨보세요.';
const canonicalUrl = 'https://www.playfiddlebops.com/ko/update-games/';
const ogImage = 'https://www.playfiddlebops.com/tw.jpg';
const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'Game',
  name: title,
  alternateName: 'playfiddlebops.com',
  url: canonicalUrl,
  description
};
---
<BaseLayout
  title={title}
  description={description}
  canonicalUrl={canonicalUrl}
  ogImage={ogImage}
  ogType="website"
  twitterCard="summary_large_image"
  jsonLd={jsonLd}
  hreflangLinks={UPDATE_GAMES_HREFLANG}
  lang="ko"
>
  <section class="games">
    <div class="container">
      <h1>신규 게임</h1>
      <p>
        FiddleBops에 새로 추가된 게임들을 한눈에 확인해 보세요.
      </p>

      <div class="game-grid">
        {page.data.map(({ astronaut }) => {
          const [href, thumbnail, gameTitle] = astronaut;
          const localizedHref = href.startsWith('http') ? href : `${prefix}${href}`;

          return (
            <article class="game">
              <a href={localizedHref} title={gameTitle}>
                <div class="game-logo">
                  <img src={thumbnail} alt={gameTitle} loading="lazy" width="300" height="300" />
                </div>
                <p>{gameTitle}</p>
              </a>
            </article>
          );
        })}
      </div>

      <div class="pagination">
        {page.url.prev && <a href={page.url.prev}>«</a>}
        <b class="current">
          {page.currentPage} / {page.lastPage}
        </b>
        {page.url.next && <a href={page.url.next}>»</a>}
      </div>
    </div>
  </section>
</BaseLayout>
