---
import BaseLayout from '@/layouts/BaseLayout.astro'
import Navigation from '@/components/Navigation.astro'
import Footer from '@/components/Footer.astro'
import extractedData from '@/data/extracted-data.json'
import { getEntryBySlug } from 'astro:content'
//

const lang = 'ko'
const title = 'Fiddlebops - 무료 온라인 Fiddlebops Incredibox 게임'
const description = '피들봅스로 나만의 독특한 음악을 만들어 보세요! 인크레디박스에서 영감을 받은 팬 제작 프로젝트로, 다양한 사운드를 믹스 매치하여 개성 있는 음악을 작곡할 수 있습니다.'

const structuredData = {
  "@context": "https://schema.org",
  "@type": "Game",
  "name": title,
  "alternateName": "playfiddlebops.com",
  "url": "https://www.playfiddlebops.com/ko/",
  "description": description
};

const meta = {
  title,
  description,
  canonical: 'https://www.playfiddlebops.com/ko/',
  ogImage: 'https://www.playfiddlebops.com/tw.jpg'
}

const { navigation } = extractedData
const hreflangLinks = (navigation?.languages || []).map((l: any) => ({
  code: l.code === 'en' ? 'x-default' : l.code,
  url: `https://www.playfiddlebops.com${l.url}`
}))

const home = await getEntryBySlug('i18nHome', 'ko')
const { Content } = await home.render()
---

<BaseLayout meta={meta} lang={lang} hreflang={hreflangLinks} structuredData={structuredData}>
  <Navigation navigation={navigation.main} languages={navigation.languages} currentLang={lang} currentPath={`/${lang}/`} />
  <main class="container" style="min-height:60vh; padding:2rem 0;">
    <h1 style="margin-bottom:1rem;">{home.data.title}</h1>
    <p style="margin-bottom:2rem;">{home.data.description}</p>
    <section class="about" id="about">
      <div class="about-content">
        <Content />
      </div>
    </section>
  </main>
  <Footer />
</BaseLayout>
