---
import BaseLayout from '../../layouts/BaseLayout.astro';

import { INCREDIBOX_MOD_HREFLANG } from '../../data/hreflang';

export function getStaticPaths({ paginate }) {
  const astronautPages = [
    { astronaut: ["/incredibox/","/Incredibox.png","Incredibox V1-V9"]},
    { astronaut: ["/incredibox-yellow-colorbox/","/incredibox-yellow-colorbox.png","Incredibox Yellow Colorbox"]},
    { astronaut: ["/incredibox-banana/","/new-images/incredibox-banana.png","Incredibox Banana"] },
    { astronaut: ["/incredibox-beatnik-simulator/","/new-images/incredibox-beatnik-simulator.png","Incredibox Beatnik Simulator"] },
    { astronaut: ["/incredibox-carol-of-the-bells/","/new-images/incredibox-carol-of-the-bells.png","Incredibox Carol Of The Bells"] },
    { astronaut: ["/incredibox-choir/","/new-images/incredibox-choir.png","Incredibox Choir"] },
    { astronaut: ["/incredibox-creatophobos/","/new-images/incredibox-creatophobos.png","Incredibox Creatophobos"] },
    { astronaut: ["/incredibox-downtown-simulator/","/new-images/incredibox-downtown-simulator.png","Incredibox Downtown Simulator"] },
    { astronaut: ["/incredibox-dystopia/","/new-images/incredibox-dystopia.png","Incredibox Dystopia"] },
    { astronaut: ["/incredibox-fruity/","/new-images/incredibox-fruity.png","Incredibox Fruity"] },
    { astronaut: ["/incredibox-geek-dance-simulator/","/new-images/incredibox-geek-dance-simulator.png","Incredibox Geek Dance Simulator"] },
    { astronaut: ["/incredibox-hijinks/","/new-images/incredibox-hijinks.png","Incredibox Hijinks"] },
    { astronaut: ["/incredibox-instrumentalist/","/new-images/incredibox-instrumentalist.png","Incredibox Instrumentalist"] },
    { astronaut: ["/incredibox-kochari/","/new-images/incredibox-kochari.png","Incredibox Kochari"] },
    { astronaut: ["/incredibox-melophobia/","/new-images/incredibox-melophobia.png","Incredibox Melophobia"] },
    { astronaut: ["/incredibox-piege-simulator/","/new-images/incredibox-piege-simulator.png","Incredibox Piege Simulator"] },
    { astronaut: ["/incredibox-rave/","/new-images/incredibox-rave.png","Incredibox Rave"] },
    { astronaut: ["/incredibox-riser/","/new-images/incredibox-riser.png","Incredibox Riser"] },
    { astronaut: ["/incredibox-studio/","/new-images/incredibox-studio.png","Incredibox Studio"] },
    { astronaut: ["/incredibox-trillybox/","/new-images/incredibox-trillybox.png","Incredibox Trillybox"] },
    { astronaut: ["/incredibox-vibin/","/new-images/incredibox-vibin.png","Incredibox Vibin"] },
    { astronaut: ["/incredibox-wolfgang/","/new-images/incredibox-wolfgang.png","Incredibox Wolfgang"] },
    { astronaut: ["/incredibox-xrun-simulator/","/new-images/incredibox-xrun-simulator.png","Incredibox Xrun Simulator"] },
    { astronaut: ["/incredibox-yaboo/","/new-images/incredibox-yaboo.png","Incredibox Yaboo"] },
    { astronaut: ["/infiltrating-the-airship/","/new-images/infiltrating-the-airship.jpg","Infiltrating The Airship"] },
    { astronaut: ["/incredibox-donki-abgerny/","/incredibox-donki-abgerny.png","Incredibox Donki Abgerny"]},
    { astronaut: ["/incredibox-sprunksters/","/incredibox-sprunksters.png","Incredibox Sprunksters"]},
    { astronaut: ["/incredibox-sprinkle/","/incredibox-sprinkle.png","Incredibox Sprinkle"]},
    { astronaut: ["/incredibox-shatter-sprunk/","/incredibox-shatter-sprunk.png","Incredibox Shatter Sprunk"]},
    { astronaut: ["/incredibox-cool-as-ice/","/incredibox-cool-as-ice.png","Incredibox Cool As Ice"]},
  ];

  // 根据宇航员数组生成页面，每页 30 项
  return paginate(astronautPages, { pageSize: 30 });
}

// 所有分页数据都在 "page" 参数中传递
const { page } = Astro.props;
const title = 'Incredibox Mod - Incredibox Game World';
const description =
  'Create your unique music with Incredibox! This fan-made project lets you mix and match various sounds to compose personalized tracks.';
const canonicalUrl = 'https://www.playfiddlebops.com/incredibox-mod/';
const ogImage = 'https://www.playfiddlebops.com/tw.jpg';
const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'Game',
  name: title,
  alternateName: 'playfiddlebops.com',
  url: canonicalUrl,
  description
};
---
<BaseLayout
  title={title}
  description={description}
  canonicalUrl={canonicalUrl}
  ogImage={ogImage}
  ogType="website"
  twitterCard="summary_large_image"
  jsonLd={jsonLd}
  hreflangLinks={INCREDIBOX_MOD_HREFLANG}
  lang="en"
>
  <section class="games">
    <div class="container">
      <h1>Incredibox Mod</h1>
      <p>
        Discover the best Incredibox-inspired mods, versions, and fan-made mixes. Play online for free with no
        download required.
      </p>

      <div class="game-grid">
        {page.data.map(({ astronaut }) => {
          const [href, thumbnail, gameTitle] = astronaut;

          return (
            <article class="game">
              <a href={href} title={gameTitle}>
                <div class="game-logo game-l-2">
                  <img src={thumbnail} alt={gameTitle} loading="lazy" width="300" height="300" />
                  <div class="game-overlay">
                    <p>{gameTitle}</p>
                  </div>
                </div>
              </a>
            </article>
          );
        })}
      </div>

      <div class="pagination">
        {page.url.prev && <a href={page.url.prev}>«</a>}
        <b class="current">
          {page.currentPage} / {page.lastPage}
        </b>
        {page.url.next && <a href={page.url.next}>»</a>}
      </div>
    </div>
  </section>
</BaseLayout>
