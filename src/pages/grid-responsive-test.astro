---
import Layout from '@/layouts/Layout.astro';
import GameGrid from '@/components/GameGrid.astro';
import type { Game } from '@/types';

// Mock game data for testing all variants
const mockGames: Game[] = Array.from({ length: 12 }, (_, i) => ({
  id: `test-${i + 1}`,
  slug: `test-game-${i + 1}`,
  title: `Test Game ${i + 1}`,
  description: `This is a test music creation game with amazing features and cool sounds. Game number ${i + 1}.`,
  image: `/img-${(i % 10) + 1}.png`,
  iframe: `https://example.com/game${i + 1}`,
  category: ['popular', 'trending', 'new'][i % 3] as 'popular' | 'trending' | 'new',
  meta: {
    title: `Test Game ${i + 1}`,
    description: `Test description for game ${i + 1}`,
    canonical: `/test-game-${i + 1}`,
    ogImage: `/img-${(i % 10) + 1}.png`
  }
}));
---

<Layout title="GameGrid Responsive Test">
  <main class="min-h-screen bg-background">
    <!-- Header -->
    <div class="bg-primary text-primary-foreground py-8">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h1 class="text-3xl md:text-4xl font-bold text-center">
          GameGrid Responsive Test
        </h1>
        <p class="text-center mt-2 text-primary-foreground/80">
          Testing three grid variants across all breakpoints
        </p>
      </div>
    </div>

    <div class="py-12 space-y-16">
      <!-- Standard Grid Test -->
      <section>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-8">
            <h2 class="text-2xl md:text-3xl font-bold text-foreground mb-4">
              Standard Grid Variant
            </h2>
            <div class="text-sm text-muted-foreground space-y-1">
              <p><strong>Breakpoints:</strong> 1 → 2 → 3 → 4 → 5 columns</p>
              <p><strong>Usage:</strong> Main game listing pages</p>
            </div>
          </div>
          <GameGrid 
            games={mockGames} 
            title="Popular Music Games" 
            variant="standard"
            moreLink="/games"
          />
        </div>
      </section>

      <!-- Featured Grid Test -->
      <section class="bg-muted/30">
        <div class="py-16">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-8">
              <h2 class="text-2xl md:text-3xl font-bold text-foreground mb-4">
                Featured Grid Variant
              </h2>
              <div class="text-sm text-muted-foreground space-y-1">
                <p><strong>Breakpoints:</strong> 1 → 2 → 3 columns</p>
                <p><strong>Usage:</strong> Homepage featured games, hero sections</p>
              </div>
            </div>
            <GameGrid 
              games={mockGames.slice(0, 6)} 
              title="Featured Games" 
              variant="featured"
            />
          </div>
        </div>
      </section>

      <!-- Compact Grid Test -->
      <section>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-8">
            <h2 class="text-2xl md:text-3xl font-bold text-foreground mb-4">
              Compact Grid Variant
            </h2>
            <div class="text-sm text-muted-foreground space-y-1">
              <p><strong>Breakpoints:</strong> 2 → 3 → 4 → 6 columns</p>
              <p><strong>Usage:</strong> Sidebar sections, related games</p>
            </div>
          </div>
          <GameGrid 
            games={mockGames} 
            title="All Games" 
            variant="compact"
            moreLink="/all-games"
          />
        </div>
      </section>

      <!-- Grid without title -->
      <section class="bg-muted/30">
        <div class="py-16">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-8">
              <h2 class="text-2xl md:text-3xl font-bold text-foreground mb-4">
                Grid Without Title
              </h2>
              <div class="text-sm text-muted-foreground">
                <p>Standard variant with showTitle=false</p>
              </div>
            </div>
            <GameGrid 
              games={mockGames.slice(0, 8)} 
              variant="standard"
              showTitle={false}
            />
          </div>
        </div>
      </section>
    </div>

    <!-- Responsive indicator -->
    <div class="fixed bottom-4 right-4 bg-primary text-primary-foreground px-4 py-2 rounded-lg text-sm font-mono shadow-lg z-50">
      <div class="text-center">
        <div class="font-semibold mb-1">Current Breakpoint</div>
        <div>
          <span class="xs:hidden">xs: &lt;480px</span>
          <span class="hidden xs:inline sm:hidden">xs: 480px+</span>
          <span class="hidden sm:inline md:hidden">sm: 640px+</span>
          <span class="hidden md:inline lg:hidden">md: 768px+</span>
          <span class="hidden lg:inline xl:hidden">lg: 1024px+</span>
          <span class="hidden xl:inline 2xl:hidden">xl: 1280px+</span>
          <span class="hidden 2xl:inline">2xl: 1536px+</span>
        </div>
      </div>
    </div>

    <!-- Grid visualization helper -->
    <div class="fixed bottom-4 left-4 bg-card text-card-foreground p-4 rounded-lg text-xs shadow-lg z-50 max-w-xs">
      <div class="font-semibold mb-2">Expected Columns:</div>
      <div class="space-y-1">
        <div><strong>Standard:</strong> 
          <span class="xs:hidden">1</span>
          <span class="hidden xs:inline sm:hidden">1</span>
          <span class="hidden sm:inline md:hidden">2</span>
          <span class="hidden md:inline lg:hidden">3</span>
          <span class="hidden lg:inline xl:hidden">4</span>
          <span class="hidden xl:inline">5</span>
        </div>
        <div><strong>Featured:</strong> 
          <span class="xs:hidden">1</span>
          <span class="hidden xs:inline sm:hidden">1</span>
          <span class="hidden sm:inline lg:hidden">2</span>
          <span class="hidden lg:inline">3</span>
        </div>
        <div><strong>Compact:</strong> 
          <span class="xs:hidden">2</span>
          <span class="hidden xs:inline sm:hidden">2</span>
          <span class="hidden sm:inline md:hidden">3</span>
          <span class="hidden md:inline lg:hidden">4</span>
          <span class="hidden lg:inline">6</span>
        </div>
      </div>
    </div>
  </main>
</Layout>