---
/**
 * Footer Component
 * Reusable footer with navigation links and copyright
 * 
 * @prop {number} year - Copyright year, defaults to current year
 * @prop {string} siteName - Site name for copyright, defaults to "FiddleBops"
 * @prop {string} email - Contact email address
 * @prop {boolean} showEmail - Whether to show email address
 * @prop {string} lang - Current language (for localized links)
 */
import { useTranslations, getLocaleFromLangAttr, getLocalizedPath } from '../i18n/utils';

interface Props {
  year?: number;
  siteName?: string;
  email?: string;
  showEmail?: boolean;
  lang?: string;
}

const { 
  year = new Date().getFullYear(), 
  siteName = 'FiddleBops',
  email = 'chongzhidatech@gmail.com',
  showEmail = false,
  lang = 'en'
} = Astro.props;

const locale = getLocaleFromLangAttr(lang);
const t = useTranslations(locale);
const privacyHref = getLocalizedPath('/privacy/', locale);
const termsHref = getLocalizedPath('/terms-of-service/', locale);
---

<footer>
  <div class="container">
    <nav>
      <ul>
        <li><a href={privacyHref}>{t('footer.privacyPolicy', 'Privacy Policy')}</a></li>
        <li><a href={termsHref}>{t('footer.termsOfService', 'Terms of service')}</a></li>
      </ul>
    </nav>
    <p class="copyright footer-align-left">
      Â© {year} {siteName}. {t('footer.copyright', 'All rights reserved.')}
    </p>
    {showEmail && (
      <p class="footer-align-left footer-email">
        {t('footer.email', 'E-mail')}: {email}
      </p>
    )}
  </div>
</footer>
