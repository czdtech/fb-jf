# CLAUDE.md

## ⚠️ 核心原则（IMPORTANT）
- **事实优先**：无权威来源 → 标记“未验证”，禁止捏造
- **安全第一**：输入校验、AuthN/AuthZ、密钥保护、日志脱敏
- **最小实现**：未经请求禁止附加功能、炫技或过度重构
- **效率友好**：尽量节省 token，使用简洁方案

---

## 🛠 工作流

### 📝 Plan Mode（仅讨论与规划）
1. 把我的自然语言需求浓缩成 3–5 行，放 `### Draft`
2. 如关键信息缺失，列 ≤3 条澄清问题，放 `### Clarify`
3. 澄清完毕输出 `### Final` + 1 行安全要点
4. 末尾固定提示：
   `[需求已确认，请 Shift+Tab 退出 Plan Mode 开始编码]`

### 💻 Code Mode（正式写代码）
1. **只实现 `### Final` 中确认的需求**
2. 允许的区块：
   - `### Code`（多文件分块：`### Code: <filename>`）
   - `### Test`（复杂逻辑必须提供）
3. 代码块外不得出现解释文字；示例数据 ≤3 条
4. 若需改动需求，请自行回到 Plan Mode
